{% load static %}
{% load bootstrap %}
{% include 'extend/head.html' with head_title="Formulário de Álbuns" %}
<!DOCTYPE html>
<html>

<body class="bg-light active">
    <div class="wrapper">
        <div class="section">
            <!-- Header -->
            {% include 'extend/header.html' %}

            <main role="main" class="p-2 bg-light">
                <!-- Content -->
                <section class="jumbotron text-center bg-light">
                    <div class="container">
                        <h1 class="jumbotron-heading">Criar/Editar álbum</h1>
                    </div>
                    {% include 'extend/alert.html' %}
                    <div class="container py-5">
                        <form method="POST">
                            {% csrf_token %}
                            {{ form|bootstrap }}
                            <input type="submit" value="Criar/Editar" class="btn btn-primary">
                        </form>
                    </div>
                </section>
            </main>
        </div>

        <!-- Sidebar menu -->
        {% include 'extend/sidebar.html' with active_page="list_album" %}

    </div>

    <!-- Footer -->
    {% include 'extend/footer.html' %}
    <script src="{% static 'js/sidebar.js' %}" type="text/javascript"></script>

    <script type="text/javascript">
        $('#id_title, #id_artist').on('input', function(){
            var title = $('#id_title').val().toLowerCase()
                .replaceAll('/', '_')
                .replaceAll(' ', '_')
                .replaceAll('.', '_');
            var artist = $('#id_artist').val().toLowerCase()
                .replaceAll('/', '_')
                .replaceAll(' ', '_')
                .replaceAll('.', '_');

            if (title && artist)
                $('#id_art').val('img/albums/' + artist + '-' + title + '.png');
        });
        
    </script>
</body>

</html>